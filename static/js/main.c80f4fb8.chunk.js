(this["webpackJsonpmeteo-widget"]=this["webpackJsonpmeteo-widget"]||[]).push([[0],{33:function(e,t,a){e.exports=a(68)},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(7),r=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(10),l=a(6),u=a(14),s=(a(42),a(43),a(44),function(e){var t=e.city,a=e.temp,n=e.feelsLike,o=e.tempMax,r=e.tempMin;return c.a.createElement("div",{className:"widget"},t?c.a.createElement("div",null,c.a.createElement("div",{className:"city"},t),c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"info-temp"},c.a.createElement("p",null,"Temp. : ",Math.round(a),"\xb0 [max: ",Math.round(o)," | min: ",Math.round(r),"]"),c.a.createElement("p",null,"Temp. ressentie : ",Math.round(n),"\xb0")))):c.a.createElement("p",{className:"waiting"},"Waiting for the geolocation"))}),p=Object(l.b)((function(e){return{city:e.meteo.city,temp:e.meteo.main.temp,feelsLike:e.meteo.main.feels_like,tempMax:e.meteo.main.temp_max,tempMin:e.meteo.main.temp_min}}),null)(s),d=(a(45),a(32)),E=function(e){var t=e.handleTogglerMenu;return c.a.createElement("div",{className:"menu"},c.a.createElement(i.b,null,c.a.createElement(d.a,{size:38,onClick:function(){t()}})))},m=Object(l.b)(null,(function(e){return{handleTogglerMenu:function(){e({type:"TOGGLER_MENU"})}}}))(E),h=(a(47),function(e){var t=e.handleGetSearch,a=e.searchInput,n=e.handleGetSubmit;return c.a.createElement("div",{className:"input"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n()}},c.a.createElement("input",{type:"text",placeholder:"Nouvelle ville...",onChange:function(e){var a=e.target.value;t(a)},value:a})))}),O=Object(l.b)((function(e){return{searchInput:e.meteo.searchInput}}),(function(e){return{handleGetSearch:function(t){e({type:"GET_SEARCH",payload:t})},handleGetSubmit:function(){e({type:"GET_SUBMIT"})}}}))(h),f=(a(48),function(e){var t=e.navCities,a=e.handleTogglerMenu,n=e.handleSelectedCity;return c.a.createElement("div",{className:"locations"},c.a.createElement(O,null),t.map((function(e){return c.a.createElement("div",{className:"location"},c.a.createElement(i.b,{to:"/"},c.a.createElement("button",{onClick:function(){a(),n({city:e.city,main:e.main})}},e.city)))})))}),T=Object(l.b)((function(e){return{navCities:e.meteo.navCities}}),(function(e){return{handleTogglerMenu:function(){e({type:"TOGGLER_MENU"})},handleSelectedCity:function(t){e({type:"GET_SELECTED_CITY",payload:t})}}}))(f),_=(a(49),function(){return c.a.createElement("div",{className:"logo"},"Raincheck")}),b=function(e){var t=e.handleGeolocation,a=e.navOpen;return Object(n.useEffect)((function(){"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(e){var a=e.coords.latitude,n=e.coords.longitude;console.log(navigator.permissions.query),t({lat:a,lon:n})})):alert("Your browser doesn't support geolocalisation, in order to use the application, please select a city")}),[]),c.a.createElement("div",{className:"wrapper"},c.a.createElement(u.a,{position:"top-right",autoClose:3500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"toast"}),c.a.createElement(_,null),a?c.a.createElement(T,null):c.a.createElement(p,null),c.a.createElement(m,null))},y=Object(l.b)((function(e){return{navOpen:e.meteo.navOpen}}),(function(e){return{handleGeolocation:function(t){var a=t.lat,n=t.lon;e({type:"GET_GEOLOCATION",payload:{lat:a,lon:n}})}}}))(b),v=(a(50),a(9)),C=a(31),S=a(2),g={searchInput:"",navCities:[],city:"",main:{},error:"",navOpen:!1},G=Object(v.c)({meteo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"GET_SEARCH":return Object(S.a)(Object(S.a)({},e),{},{searchInput:t.payload});case"GET_SUBMIT":return Object(S.a)({},e);case"GET_SUBMIT_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{navCities:[].concat(Object(C.a)(e.navCities),[{city:e.searchInput,main:t.payload}]),searchInput:""});case"GET_SUBMIT_ERROR":return Object(S.a)(Object(S.a)({},e),{},{error:t.payload});case"TOGGLER_MENU":return Object(S.a)(Object(S.a)({},e),{},{navOpen:!e.navOpen});case"GET_GEOLOCATION":return Object(S.a)({},e);case"GET_GEOLOCATION_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{city:t.payload.name,main:t.payload.main});case"GET_GEOLOCATION_ERROR":return Object(S.a)(Object(S.a)({},e),{},{error:t.payload});case"GET_SELECTED_CITY":return Object(S.a)(Object(S.a)({},e),{},{city:t.payload.city});case"GET_SELECTED_CITY_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{main:t.payload});case"GET_SELECTED_CITY_ERROR":return Object(S.a)(Object(S.a)({},e),{},{error:t.payload});default:return e}}}),I=a(15),j=a.n(I),w=function(e){return function(t){return function(a){switch(t(a),a.type){case"GET_GEOLOCATION":var n=a.payload,c=n.lat,o=n.lon,r="".concat("http://api.openweathermap.org/data/2.5","/weather?lat=").concat(c,"&lon=").concat(o,"&appid=").concat("966a0936a8fcfe53e0b0dda228d92346","&units=metric");j()({method:"get",url:r}).then((function(t){e.dispatch({type:"GET_GEOLOCATION_SUCCESS",payload:t.data})})).catch((function(t){e.dispatch({type:"GET_GEOLOCATION_ERROR",payload:"Geolocation failed"})}));break;case"GET_SUBMIT":var i=e.getState().meteo.searchInput,l="".concat("http://api.openweathermap.org/data/2.5","/weather?q=").concat(i,"&appid=").concat("966a0936a8fcfe53e0b0dda228d92346","&units=metric");j()({method:"get",url:l}).then((function(t){e.dispatch({type:"GET_SUBMIT_SUCCESS",payload:t.data.main})})).catch((function(t){e.dispatch({type:"GET_SUBMIT_ERROR",payload:"Searched location has not been found"}),u.b.error("Searched location has not been found")}));break;case"GET_SELECTED_CITY":var s=a.payload.city,p="".concat("http://api.openweathermap.org/data/2.5","/weather?q=").concat(s,"&appid=").concat("966a0936a8fcfe53e0b0dda228d92346","&units=metric");j()({method:"get",url:p}).then((function(t){e.dispatch({type:"GET_SELECTED_CITY_SUCCESS",payload:t.data.main})})).catch((function(t){e.dispatch({type:"GET_SELECTED_CITY_ERROR",payload:"Searched location has not been found"})}))}}}},N=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||v.d)(Object(v.a)(w)),R=Object(v.e)(G,N);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(l.a,{store:R},c.a.createElement(i.a,null,c.a.createElement(y,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.c80f4fb8.chunk.js.map